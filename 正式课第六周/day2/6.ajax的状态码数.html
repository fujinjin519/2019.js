<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        let xhr=new XMLHttpRequest;
        // console.log(xhr.readyState);
        //2.请求方式，请求路径，同步异步
        xhr.open("get","data.jason",true)
        // console.log(xhr.readyState);
       
        //3.监听readystatechange发生改变的方法
        xhr.onreadystatechange=function(){
            //如果是同步只输出4，如果是异步会输出2，3，4 
            //如果是同步，如果请求不完，不会这行这个回调，但是readyState也会发生2-3-4的变化，只是不能执行而已，等上面执行完readyState已经变成了4，所以只会输出4
            if(xhr.readyState==4)
            console.log(xhr.readyState);
            if(xhr.readyState===4&&/^2\d{2}/.test(xhr.status)){
                   data=JSON.parse
            }
          
        }

        //4.发送请求
        xhr.send()

       
        //readyState
       // status：都是实例上的一个属性名，当这个实例的请求操作进行到不同阶段时，会不断更改readystate,当请求回来以后，这个请求就会更改这个实例的status,来表示该请求的结果

        // 200 : 成功
        // 301 : 永久重定向 ；将域名重定向一个新的域名上;
        // 304 : 有缓存
        // 307:  临时转移
        // 400 : 报文存在语法错误
        // 401 : 请求需要验证
        // 403 ：没有权限访问
        // 404 : 路径错误
        // 500 : 服务器的未知错误
        // 503： 超负荷；当用户的访问量超过服务器承受的最大用户量；负载均衡【node】
    
        
        
        
        
        
        </script>
</body>
</html>